---
title: "Gapminder, ggplot2 and dplyr single table verbs"
author: "Gokul Raj"
date: "September 27, 2016"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Blah blah

Let's make scatterplots

```{r}
library(tidyverse) #gets me ggplot2
library(gapminder)

ggplot(gapminder , aes(x = gdpPercap, y = lifeExp)) # won't plot anything
p <- ggplot(gapminder , aes(x = gdpPercap, y = lifeExp))

## add points
p + geom_point()

## let's log the x axis (brute force)
ggplot(gapminder , aes(x = log10(gdpPercap), y = lifeExp)) + geom_point()

# a better way
ggplot(gapminder , aes(x = gdpPercap)) + scale_x_log10() + geom_point()

## let's save that
p <- ggplot(gapminder , aes(x = gdpPercap, y = lifeExp)) + scale_x_log10()
p + geom_point()

##color by continent
p + geom_point(aes(color = continent)) ## mapping an aesthetic

##deal with overplotting
p + geom_point(alpha = 1/3 , size = 3) ## setting an aesthetic

##add a fitted line or curve
p + 
  geom_point(aes(color = continent)) +
  geom_smooth(se = FALSE, method = "lm")

p + geom_point(alpha = 1/3 , size = 3) + 
  facet_wrap(~ continent) + geom_smooth(se = FALSE)

p + geom_point(alpha = 1/3 , size = 3) + 
  facet_grid(~ continent)

```



